---
import { PortableText as PortableTextInternal } from 'astro-portabletext'
import type { PortableTextProps } from 'astro-portabletext/types';
import PortableTextImage from "@components/portabletext/PortableTextImage.astro";
import PortableTextTweet from '@components/portabletext/PortableTextTweet.astro';
import PortableTextVideo from '@components/portabletext/PortableTextVideo.astro';
import PortableTextQuote from '@components/portabletext/PortableTextQuote.astro';
import PortableTextTable from '@components/portabletext/PortableTextTable.astro';
import PortableTextOpinion from '@components/portabletext/PortableTextOpinion.astro';
import PortableTextLink from '@components/portabletext/PortableTextLink.astro';
import PortableTextSubject from '@components/portabletext/PortableTextSubject.astro';

type Props = PortableTextProps;

const { value } = Astro.props;

const components = {
    type: {
        image: PortableTextImage,
        tweet: PortableTextTweet,
        video: PortableTextVideo,
        quote: PortableTextQuote,
        table: PortableTextTable,
        opinion: PortableTextOpinion
    },
    mark: {
        link: PortableTextLink,
        subject: PortableTextSubject
    }
};
---

<PortableTextInternal
    value={ value }
    components={ components }
/>