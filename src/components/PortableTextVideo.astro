---
import CaptionedElement from "./CaptionedElement.astro";
import type { DereferencedContentBlock } from '../../studio/sanity-queries';

type Props = DereferencedContentBlock<'video'>;

const { video, caption } = Astro.props.node;
const { asset } = video;
---

<CaptionedElement caption={ caption }>
    <mux-player playback-id={ asset.playbackId } />
</CaptionedElement>
<script>
    import '@mux/mux-player';</script>
<style>
    mux-player {
        aspect-ratio: 16 / 9;
        --media-accent-color: var(--blue-700);
        border-radius: 0.5rem;
        overflow: hidden;
    }
</style>