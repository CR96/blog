---
import CaptionedElement from "./CaptionedElement.astro";

const { video, caption } = Astro.props.node;

const WrapperElement = caption ? CaptionedElement : Fragment;
---

<WrapperElement { ...caption && { caption } }>
    <mux-player playback-id={ video.asset.playbackId } />
</WrapperElement>
<script>
    import '@mux/mux-player';
</script>
<style>
    mux-player {
        aspect-ratio: 16 / 9;
        --media-accent-color: var(--blue-700);
        border-radius: 0.5rem;
        overflow: hidden;
    }
</style>