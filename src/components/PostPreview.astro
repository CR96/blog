---
import type { Post } from '../groq';
import { generateDatedPostSlug } from "../util";
import FormattedDate from './FormattedDate.astro';
import PostThumbnail from './PostThumbnail.astro';

interface Props {
    post: Post
}

const { post } = Astro.props;
const datedSlug = generateDatedPostSlug(post.datePublished, post.slug.current);
---

<article>
    { post?.thumbnail && (
        <a href={ `/${datedSlug}` }>
            <PostThumbnail thumbnail={ post.thumbnail } />
        </a>
    ) }
    <h3>
        <a href={ `/${datedSlug}` }>{ post.title }</a>
    </h3>
    <p class="post-metadata">
        {`Authored `}
        <FormattedDate date={ new Date(post.datePublished) } />
    </p>
</article>
<style>
    h3 {
        font-size: 1.15rem;
        font-weight: 700;
        margin-block: 0.25rem 0.5rem;
        
        & > a {
            color: inherit;
            text-decoration: none;
        }
    }

    .post-metadata {
        font-weight: 300;
        margin-top: 0;
    }
</style>