---
import { PortableText as PortableTextInternal } from 'astro-portabletext'
import type { PortableTextProps } from 'astro-portabletext/types';
import PortableTextImage from "./PortableTextImage.astro";
import PortableTextTweet from './PortableTextTweet.astro';
import PortableTextVideo from './PortableTextVideo.astro';
import PortableTextTable from './PortableTextTable.astro';
import PortableTextOpinion from './PortableTextOpinion.astro';
import PortableTextLink from './PortableTextLink.astro';
import PortableTextSubject from './PortableTextSubject.astro';

type Props = PortableTextProps;

const { value } = Astro.props;

const components = {
    type: {
        image: PortableTextImage,
        tweet: PortableTextTweet,
        video: PortableTextVideo,
        table: PortableTextTable,
        opinion: PortableTextOpinion
    },
    mark: {
        link: PortableTextLink,
        subject: PortableTextSubject
    }
};
---

<PortableTextInternal
    value={ value }
    components={ components }
/>